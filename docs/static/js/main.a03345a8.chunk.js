(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,t,r){e.exports={wrapper:"Banner_wrapper__2hJeS",linkWrapper:"Banner_linkWrapper__3ahUg"}},123:function(e,t,r){e.exports={wrapper:"Loading_wrapper__2a5Yt",loadingIcon:"Loading_loadingIcon___agV_",spin:"Loading_spin__3cPqB"}},142:function(e,t,r){e.exports={wrapper:"Ping_wrapper__3TZa5","anim-pulse":"Ping_anim-pulse__2k17g"}},143:function(e,t,r){e.exports={wrapper:"FlyweightAlert_wrapper__mEkxn"}},145:function(e,t,r){e.exports={wrapper:"Header_wrapper__1qduO"}},157:function(e,t,r){e.exports=r(222)},158:function(e,t,r){},162:function(e,t,r){},179:function(e,t){},20:function(e){e.exports={CONNECT_READ_ONLY:'If you prefer, you can also connect by "pasting" a wallet address into a textbox.',CONFIRM_METAMASK_TX:"Please confirm the transaction in metamask.",CANCEL_CONFIRM:"If you have deposited any coins, this transaction will also sent them back to your wallet.",CANCEL_PROCESSING:"Cancelling your order now, beep boop...",CANCEL_REFUND:"If you have deposited coins for this order, this transaction will return the order's coins back to your wallet.",CONFIRM_METAMASK_TX_STEP_1:"Please confirm transaction [1] of [2] in metamask.",CONFIRM_METAMASK_TX_STEP_EXPLANATION:"This will add your order to the ethereum smart contract. This transaction creates data and does not transfer any coins yet.",CONFIRM_METAMASK_TX_STEP_2:"Please confirm transaction [2] of [2] in metamask.",CONFIRM_METAMASK_TX_STEP_2_EXPLANATION:"This allows you to deposit the coins for your order to automatically swap via uniswap. Users can cancel untriggered orders at any time to get their coins sent back",APPROVAL_T:"Awaiting network approval (ethereum blocks take ~15 secs, unless there is degen monkey nft minting going on, or something worse than monkeys..)",TX_PROCESSING_1:"Processing transaction, beep boop...",FINALIZING:"Finalizing your order now, boop beep...",TX_PROCESSING_2:"Awaiting network approval. Remember the bull market days when gas was 2000+ gwei? Wen zk sync token",ORDER_LIVE:"Neat! Your order is now live, and will be triggered when your conditions are met.",DEX:"This is a decentralized protocol: users can refund coin deposits at any time, yay. Goodluck in the casino comrade (you may now close this box/browser tab)",UNKNOWN_ERR:"We're sorry, something went wrong",SWAP_FROM:"Please select a symbol to swap from",SWAP_TO:"Please select a symbol to swap to",DEPOSIT_CONFIRM:"Verifying your deposit transaction on the ethereum chain..."}},222:function(e,t,r){"use strict";r.r(t);r(158);var n,a=r(22),o=r(4),i=r(6),c=r(10),s=r(7),u=r(11),l=(r(160),r(162),r(51)),d={variant:null,code:null,msgPrimary:null,msgSecondary:null},h=Object(l.b)({name:"alertStore",initialState:d,reducers:{alertSet:function(e,t){var r=t.payload,n=r.variant,a=r.code,o=r.msgPrimary,i=r.msgSecondary;e.variant=n,e.code=a,e.msgPrimary=o,e.msgSecondary=i},alertClear:function(e){return d}}}),p=Object(l.a)({reducer:h.reducer}),f=h.actions,m=f.alertSet,y=f.alertClear,g={networkId:"0x5",account:null},v=Object(l.b)({name:"connectionStore",initialState:g,reducers:{connected:function(e,t){e.networkId=t.payload.networkId,e.account=t.payload.account},disconnected:function(e){return g}}}),w=Object(l.a)({reducer:v.reducer}),b=v.actions,E=b.connected,k=b.disconnected,O=r(0),x=r.n(O),T=r(58),S={"0x1":"mainnet","0x5":"goerli"},_={"0x1":"X24oWYG_pVRmcN4p8tjyNGVN4gkWnXan","0x5":"dZfJX0zlMxU1bwn_91-6KYdVb4m5V2hs"},L={"0x1":"https://etherscan.io/tx","0x5":"https://goerli.etherscan.io/tx"},I={"0x1":"TODO","0x5":"0xc7A45A1d083DaB3F0b8AdfdE9Bab4f8996851Ff0"},A={"0x1":"TODO","0x5":"https://nw2j6to4vfv2uzi2ckkpqw7kjq0jpbtq.lambda-url.ap-northeast-1.on.aws/"},N=r(121),P=r.n(N),j=w.getState().networkId,D=I[j],C=function(e){return e.show?x.a.createElement("div",{className:"py-1 text-center text-dark bg-warning",id:P.a.wrapper},x.a.createElement("div",null,"Currently connected to a testnet (network id: ",j,")."),x.a.createElement("div",null,"This network only supports the UNI & WETH erc-20\u2018s."),x.a.createElement(T.a,{direction:"horizontal",gap:2,className:P.a.linkWrapper},x.a.createElement("a",{href:"https://goerli.etherscan.io/address/".concat(D,"#code"),target:"_blank",title:"Opens etherscan in a new tab"},"Etherscan"),x.a.createElement("a",{href:"https://github.com/0xmn1?tab=repositories",target:"_blank",title:"Opens the github repos in a new tab"},"Github"),x.a.createElement("a",{href:"https://goerlifaucet.com",target:"_blank",title:"Opens the alchemy goerli facuet in a new tab"},"Goerli faucet"))):null},M=r(77),F=r(101),R=r(144),G=r(33),W=r(142),B=r.n(W),H=function(e){return x.a.createElement("div",{className:e.show?B.a.wrapper:void 0})},X=r(16),U={FAQ:1,WHAT_IS_ETH_TX:2,HOW_ORDERS_ADDED:3,CREATE_ORDER_MULTI_TX:4,SELF_CUSTODY:5,ORDER_LIVE:6,HOW_BLOCKCHAIN_READ:7,HOW_DEPOSIT_VERIFIED:8},Y=(n={},Object(X.a)(n,U.FAQ,{label:"Frequently asked questions",href:""}),Object(X.a)(n,U.WHAT_IS_ETH_TX,{label:"What is an ethereum transaction?",href:""}),Object(X.a)(n,U.HOW_ORDERS_ADDED,{label:"How are orders added in the smart contract?",href:""}),Object(X.a)(n,U.CREATE_ORDER_MULTI_TX,{label:"Why does creating an order involve 2 ethereum transactions instead of 1?",href:""}),Object(X.a)(n,U.SELF_CUSTODY,{label:"How does the smart contract implement self-custody of coins?",href:""}),Object(X.a)(n,U.ORDER_LIVE,{label:"My order is live, what now?",href:""}),Object(X.a)(n,U.HOW_BLOCKCHAIN_READ,{label:"How does Flyweight read the Ethereum blockchain?",href:""}),Object(X.a)(n,U.HOW_DEPOSIT_VERIFIED,{label:"How does Flyweight verify on-chain deposits to the smart contract?",href:""}),n),K=r(143),V=r.n(K),Q=function(e){function t(e){var r;return Object(o.a)(this,t),(r=Object(c.a)(this,Object(s.a)(t).call(this,e))).subscribeAlert=function(){p.subscribe(function(){var e=!!p.getState().code;r.setState({show:e})})},r.state={show:!1},r}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.subscribeAlert()}},{key:"render",value:function(){if(!this.state.show)return null;var e=p.getState();if(!e||!e.code)return null;var t=Y[e.code];return this.state.show&&x.a.createElement(R.a,{variant:e.variant||void 0,show:!!e.msgPrimary,onClose:function(){return p.dispatch(y())},transition:G.a,className:"wrapper-alert",id:V.a.wrapper,dismissible:!0},x.a.createElement("h5",{className:"d-flex align-items-center mb-0"},x.a.createElement(H,{show:"info"===e.variant}),x.a.createElement("div",null,e.msgPrimary)),x.a.createElement("div",null,x.a.createElement("small",null,e.msgSecondary)),x.a.createElement("a",{href:t.href,target:"_blank"},x.a.createElement("small",{className:"text-muted"},t.label)))}}]),t}(x.a.Component),q=r(44),z=r(79),J=r(92),Z=r(145),$=r.n(Z),ee=function(e){return x.a.createElement(J.a,{bg:"light",expand:"lg",className:"mb-3",id:$.a.wrapper},x.a.createElement(F.a,null,x.a.createElement(J.a.Brand,null,x.a.createElement(T.a,{direction:"vertical",gap:0},x.a.createElement("div",null,x.a.createElement("b",null,"Fly"),"weight"))),x.a.createElement(J.a.Toggle,{"aria-controls":"basic-navbar-nav"}),x.a.createElement(J.a.Collapse,null,x.a.createElement(z.a,{className:"me-auto"},x.a.createElement(z.a.Link,null,"Home"),x.a.createElement(z.a.Link,null,"Dashboard"),x.a.createElement(z.a.Link,null,"FAQ"),x.a.createElement(z.a.Link,{href:"https://github.com/0xmn1?tab=repositories",target:"_blank"},"Github"))),e.isConnected?x.a.createElement(q.a,{variant:"primary",type:"button",onClick:function(){return w.dispatch(k())}},"Disconnect"):x.a.createElement(x.a.Fragment,null,x.a.createElement(T.a,{direction:"horizontal",gap:2},x.a.createElement(q.a,{variant:"primary",type:"button",onClick:e.toggleManualLoginModal},"Connect using plain-text"),x.a.createElement(q.a,{variant:!1===e.isMetamaskProviderDetected?"secondary":"primary",type:"button",onClick:e.metamaskLogin,disabled:!1===e.isMetamaskProviderDetected},"Connect using Metamask")))))},te=r(35),re=function(e,t){return new te.a.providers.AlchemyProvider(e,t)},ne=function(e){return new te.a.providers.Web3Provider(e.ethereum)},ae=function(){function e(){Object(o.a)(this,e)}return Object(i.a)(e,null,[{key:"createOrdersReadContract",value:function(e,t,r){return this.contractRead=this.contractRead||new te.a.Contract(e,t,r),this.contractRead}},{key:"createOrdersWriteContract",value:function(e,t,r){return this.contractWrite=this.contractWrite||new te.a.Contract(e,t,r),this.contractWrite}}]),e}();ae.contractRead=null,ae.contractWrite=null;var oe=r(61),ie=r.n(oe),ce=r(149),se=r.n(ce),ue=r(85),le=r(86),de=r(20),he=r(62),pe=r(150);function fe(){fe=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(L){s=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new T(a||[]);return n(i,"_invoke",{value:E(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=u;var d={};function h(){}function p(){}function f(){}var m={};s(m,o,function(){return this});var y=Object.getPrototypeOf,g=y&&y(y(S([])));g&&g!==t&&r.call(g,o)&&(m=g);var v=f.prototype=h.prototype=Object.create(m);function w(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var s=l(e[a],e,o);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(d).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(s.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return _()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=k(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function k(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return p.prototype=f,n(v,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:p,configurable:!0}),p.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(b.prototype),s(b.prototype,i,function(){return this}),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},w(v),s(v,c,"Generator"),s(v,o,function(){return this}),s(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}var me=function(e){console.log(e);var t=Object(pe.serializeError)(e),r=t.code?function(e){switch(e){case"user rejected transaction":case"ACTION_REJECTED":return"Transaction was cancelled";case-32002:return"Please unlock Metamask to continue.";default:return console.warn("Unsuccessfully mapped metamask error to message: ".concat(e)),"Operation cancelled."}}(t.code):de.UNKNOWN_ERR,n={variant:"secondary",code:U.FAQ,msgPrimary:r,msgSecondary:null};p.dispatch(m(n))},ye=function(){var e=Object(a.a)(fe().mark(function e(t){return fe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),me(e.t0),e.abrupt("return",!1);case 10:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}();function ge(){ge=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(L){s=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new T(a||[]);return n(i,"_invoke",{value:E(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=u;var d={};function h(){}function p(){}function f(){}var m={};s(m,o,function(){return this});var y=Object.getPrototypeOf,g=y&&y(y(S([])));g&&g!==t&&r.call(g,o)&&(m=g);var v=f.prototype=h.prototype=Object.create(m);function w(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var s=l(e[a],e,o);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(d).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(s.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return _()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=k(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function k(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return p.prototype=f,n(v,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:p,configurable:!0}),p.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(b.prototype),s(b.prototype,i,function(){return this}),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},w(v),s(v,c,"Generator"),s(v,o,function(){return this}),s(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}var ve=function e(t,r,n,a,i){Object(o.a)(this,e),this.tokenInDecimalAmount=t,this.tokenInSymbol=r,this.tokenOutSymbol=n,this.triggerDirection=a,this.triggerPrice=i},we=function e(t,r,n,a,i,c,s,u){Object(o.a)(this,e),this.orderId=t,this.anonOrderId=r,this.tokenInAmount=n,this.tokenIn=a,this.tokenOut=i,this.direction=c,this.tokenInTriggerPrice=s,this.orderState=u},be=function(e,t,r,n){var a={variant:e,code:t,msgPrimary:r,msgSecondary:n};p.dispatch(m(a))},Ee=function(){var e=Object(a.a)(ge().mark(function e(t,r){var n,a;return ge().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=A[t],e.next=3,r.getAddress();case 3:return a=e.sent,console.log("Triggering deposit confirmation..."),be("info",U.HOW_DEPOSIT_VERIFIED,de.DEPOSIT_CONFIRM,de.TX_PROCESSING_2),2e4,e.next=9,new Promise(function(e){return setTimeout(e,2e4)});case 9:return e.prev=9,e.next=12,se.a.put(n,{},{headers:{"X-Address":a}});case 12:return console.log("triggered successfully."),e.abrupt("return",!0);case 16:return e.prev=16,e.t0=e.catch(9),console.error(e.t0),e.abrupt("return",!1);case 20:case"end":return e.stop()}},e,null,[[9,16]])}));return function(t,r){return e.apply(this,arguments)}}(),ke=function(){var e=Object(a.a)(ge().mark(function e(t,r){var n,o,i,c,s,u,l,d,h;return ge().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=w.getState().networkId,o=I[n],i=ae.createOrdersWriteContract(o,he,t),e.next=5,i.functions.tryGetTokenAddress(r.tokenInSymbol);case 5:return c=e.sent,s=c[0],u=new te.a.Contract(s,ue,t),e.next=10,u.functions.decimals();case 10:return l=e.sent,d=new ie.a("".concat(r.tokenInDecimalAmount,"e").concat(l)),h=d.toString(),e.next=15,ye(Object(a.a)(ge().mark(function e(){var a,o,c,s;return ge().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return be("primary",U.WHAT_IS_ETH_TX,de.CONFIRM_METAMASK_TX_STEP_1,de.CONFIRM_METAMASK_TX_STEP_EXPLANATION),e.next=3,i.functions.addNewOrder(r.tokenInSymbol,r.tokenOutSymbol,r.triggerPrice,r.triggerDirection,h,{gasLimit:le.ADD_NEW_ORDER});case 3:return a=e.sent,be("info",U.HOW_ORDERS_ADDED,de.TX_PROCESSING_1,de.APPROVAL_T),e.next=7,a.wait();case 7:if(0!==(o=e.sent).status){e.next=10;break}throw o;case 10:return be("primary",U.CREATE_ORDER_MULTI_TX,de.CONFIRM_METAMASK_TX_STEP_2,de.CONFIRM_METAMASK_TX_STEP_2_EXPLANATION),e.next=13,u.transfer(i.address,h,{gasLimit:le.DEPOSIT});case 13:return c=e.sent,be("info",U.SELF_CUSTODY,de.FINALIZING,de.TX_PROCESSING_2),e.next=17,c.wait();case 17:if(0!==(s=e.sent).status){e.next=20;break}throw s;case 20:return e.next=22,Ee(n,t);case 22:if(!e.sent){e.next=26;break}be("success",U.ORDER_LIVE,de.ORDER_LIVE,de.DEX),e.next=27;break;case 26:be("warning",U.FAQ,de.UNKNOWN_ERR,null);case 27:case"end":return e.stop()}},e)})));case 15:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),Oe=Object(l.b)({name:"ordersStore",initialState:{lastCheckedTimestamp:null,isOrdersLoaded:!1,isOrderDepositPending:!1},reducers:{checked:function(e,t){e.lastCheckedTimestamp=t.payload.lastCheckedTimestamp},ordersLoaded:function(e,t){e.isOrdersLoaded=t.payload.isOrdersLoaded},depositPending:function(e,t){e.isOrderDepositPending=t.payload.isOrderDepositPending}}}),xe=Object(l.a)({reducer:Oe.reducer}),Te=Oe.actions,Se=Te.checked,_e=Te.depositPending,Le=Te.ordersLoaded,Ie=r(24),Ae=r(45),Ne=r(57),Pe=r(46),je=r(63),De=r.n(je);function Ce(){Ce=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(L){s=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new T(a||[]);return n(i,"_invoke",{value:E(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=u;var d={};function h(){}function p(){}function f(){}var m={};s(m,o,function(){return this});var y=Object.getPrototypeOf,g=y&&y(y(S([])));g&&g!==t&&r.call(g,o)&&(m=g);var v=f.prototype=h.prototype=Object.create(m);function w(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var s=l(e[a],e,o);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(d).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(s.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return _()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=k(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function k(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return p.prototype=f,n(v,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:p,configurable:!0}),p.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(b.prototype),s(b.prototype,i,function(){return this}),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},w(v),s(v,c,"Generator"),s(v,o,function(){return this}),s(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}var Me={tokenInDecimalAmount:.001,tokenInSymbol:"UNI",tokenOutSymbol:"WETH",triggerDirection:2,triggerPrice:"0.02",isOrdersLoaded:!1,isOrderDepositPending:!1,whitelistedCoinsSymbols:[]},Fe=function(e){function t(e){var r;return Object(o.a)(this,t),(r=Object(c.a)(this,Object(s.a)(t).call(this,e))).triggerDirections=void 0,r.triggerDirectionNames=void 0,r.getWhitelistedCoinSymbols=Object(a.a)(Ce().mark(function e(){var t,r,n,a,o,i,c;return Ce().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=w.getState().networkId,r=S[t],n=_[t],a=re(r,n),o=I[t],i=ae.createOrdersReadContract(o,he,a),e.next=8,i.functions.getWhitelistedSymbols();case 8:return c=e.sent,e.abrupt("return",c[0]);case 10:case"end":return e.stop()}},e)})),r.setAlert=function(e,t,r,n){var a={variant:e,code:t,msgPrimary:r,msgSecondary:n};p.dispatch(m(a))},r.tryAddOrder=Object(a.a)(Ce().mark(function e(){var t,n,o,i,c,s,u,l,d,h,f;return Ce().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.state.tokenInSymbol){e.next=4;break}r.setAlert("warning",U.FAQ,de.SWAP_FROM,null),e.next=37;break;case 4:if(r.state.tokenOutSymbol){e.next=8;break}r.setAlert("warning",U.FAQ,de.SWAP_TO,null),e.next=37;break;case 8:if(r.state.tokenInDecimalAmount&&!(r.state.tokenInDecimalAmount<=0)){e.next=12;break}r.setAlert("warning",U.FAQ,"Please select a valid number of tokens to swap.",'Your order is currently configured to swap "'.concat(r.state.tokenInDecimalAmount,'" tokens')),e.next=37;break;case 12:if(r.state.tokenInSymbol!==r.state.tokenOutSymbol){e.next=16;break}r.setAlert("warning",U.FAQ,"Please select 2 different pairs of tokens to swap.",'Your order is currently configured to swap "'.concat(r.state.tokenInSymbol,'" to "').concat(r.state.tokenOutSymbol,'"')),e.next=37;break;case 16:if(r.state.triggerPrice&&!new ie.a(r.state.triggerPrice).lt(0)){e.next=20;break}r.setAlert("warning",U.FAQ,"Please select a valid trigger price.",'Your order is currently configured to trigger at "'.concat(r.state.triggerPrice,' $USD"')),e.next=37;break;case 20:return p.dispatch(y()),t=ne(window),n=t.getSigner(),e.next=25,t.send("eth_accounts",[]);case 25:if(o=e.sent,o.length){e.next=31;break}return r.setAlert("primary",U.FAQ,"Please connect to Metamask to add new orders on Ethereum.",null),e.next=31,ye(Object(a.a)(Ce().mark(function e(){return Ce().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.send("eth_requestAccounts",[]);case 2:o=e.sent;case 3:case"end":return e.stop()}},e)})));case 31:return i=r.state,c=i.tokenInDecimalAmount,s=i.tokenInSymbol,u=i.tokenOutSymbol,l=i.triggerDirection,d=i.triggerPrice,h=new ve(c,s,u,l,d),e.next=35,ke(n,h);case 35:f=Math.floor(Date.now()/1e3),xe.dispatch(Se({lastCheckedTimestamp:f}));case 37:case"end":return e.stop()}},e)})),r.state=Me,r.triggerDirections=[0,1,2],r.triggerDirectionNames={0:"below",1:"equal to",2:"above"},r}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(a.a)(Ce().mark(function e(){var t,r,n=this;return Ce().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return xe.subscribe(function(){var e=xe.getState(),t=e.isOrdersLoaded,r=e.isOrderDepositPending;n.setState({isOrdersLoaded:t,isOrderDepositPending:r})}),t=De()(w.getState,"account"),w.subscribe(t(function(e){e||n.setState(Me)})),e.next=5,this.getWhitelistedCoinSymbols();case 5:r=e.sent,this.setState({whitelistedCoinsSymbols:r});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.isOrdersLoaded?x.a.createElement(Ie.a,null,x.a.createElement(Ie.a.Body,null,x.a.createElement(Ie.a.Title,null,"New order"),x.a.createElement(Pe.a,null,x.a.createElement(Pe.a.Group,{className:"mb-3"},x.a.createElement(Pe.a.Text,null,"I want to swap..."),x.a.createElement(T.a,{direction:"horizontal",gap:1,className:"mb-2"},x.a.createElement(Pe.a.Control,{type:"number",min:"0",step:"0.001",placeholder:"example: 10.0001",defaultValue:this.state.tokenInDecimalAmount,onChange:function(t){return e.setState({tokenInDecimalAmount:parseFloat(t.target.value)})},required:!0}),x.a.createElement(Ne.a,{title:this.state.tokenInSymbol,onSelect:function(t){return e.setState({tokenInSymbol:t})},variant:"dark"},this.state.whitelistedCoinsSymbols.map(function(t){return x.a.createElement(Ae.a.Item,{key:t,eventKey:t,active:e.state.tokenInSymbol===t},t)})),x.a.createElement(Pe.a.Text,null,"to"),x.a.createElement(Ne.a,{title:this.state.tokenOutSymbol,onSelect:function(t){return e.setState({tokenOutSymbol:t})},variant:"dark"},this.state.whitelistedCoinsSymbols.map(function(t){return x.a.createElement(Ae.a.Item,{key:t,eventKey:t,active:e.state.tokenOutSymbol===t},t)}))),x.a.createElement(Pe.a.Text,null,"when the price of ",x.a.createElement("span",{className:"fw-bold"},this.state.tokenInSymbol)," becomes"),x.a.createElement(T.a,{direction:"horizontal",gap:1},x.a.createElement(Ne.a,{title:this.triggerDirectionNames[this.state.triggerDirection],onSelect:function(t){return void 0!==t&&null!==t&&e.setState({triggerDirection:parseInt(t)})},variant:"dark"},this.triggerDirections.sort(function(e,t){return t-e}).map(function(t){return x.a.createElement(Ae.a.Item,{key:t,eventKey:t,active:e.state.triggerDirection===t},e.triggerDirectionNames[t])})),x.a.createElement(Pe.a.Control,{type:"number",min:"0",step:"0.01",placeholder:"example: 250.90",defaultValue:this.state.triggerPrice,onChange:function(t){return e.setState({triggerPrice:t.target.value})},required:!0}),x.a.createElement(Pe.a.Text,null,"USD$"))))),x.a.createElement(Ie.a.Footer,null,x.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},x.a.createElement(q.a,{variant:!1===this.props.isMetamaskProviderDetected?"secondary":"primary",type:"button",onClick:this.tryAddOrder,disabled:!1===this.props.isMetamaskProviderDetected||this.state.isOrderDepositPending},"Create order"),x.a.createElement(Ie.a.Text,null,x.a.createElement("small",{className:"text-muted text-right"},"(opens ",x.a.createElement("a",{href:"https://metamask.io/",target:"_blank",title:"Opens metamask home page in a new browser tab"},"Metamask"),")"))),this.state.isOrderDepositPending?x.a.createElement(Ie.a.Text,null,x.a.createElement("small",{className:"text-muted text-right"},"You already have an order pending deposit. To create a new order, please cancel your order that is pending a deposit.")):null)):null}}]),t}(x.a.Component),Re=r(115),Ge=r(229),We=r(228),Be=r(123),He=r.n(Be),Xe=function(){return x.a.createElement("div",{className:"d-flex align-items-center justify-content-center",id:He.a.wrapper},x.a.createElement(We.a,{color:"lightgray",size:64,className:He.a.loadingIcon}),x.a.createElement("div",null,"reading ethereum contract.."))},Ue=r(155),Ye=r(152),Ke=r(151);function Ve(){Ve=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(L){s=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new T(a||[]);return n(i,"_invoke",{value:E(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=u;var d={};function h(){}function p(){}function f(){}var m={};s(m,o,function(){return this});var y=Object.getPrototypeOf,g=y&&y(y(S([])));g&&g!==t&&r.call(g,o)&&(m=g);var v=f.prototype=h.prototype=Object.create(m);function w(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var s=l(e[a],e,o);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(d).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(s.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return _()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=k(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function k(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return p.prototype=f,n(v,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:p,configurable:!0}),p.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(b.prototype),s(b.prototype,i,function(){return this}),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},w(v),s(v,c,"Generator"),s(v,o,function(){return this}),s(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function Qe(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return qe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qe(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ze=I[w.getState().networkId],Je=function(e){function t(e){var r;return Object(o.a)(this,t),(r=Object(c.a)(this,Object(s.a)(t).call(this,e))).orderDirectionMap=void 0,r.orderStatusMap=void 0,r.decimalsMap=void 0,r.createNodeProvider=function(){var e=w.getState().networkId,t=S[e],r=_[e];return re(t,r)},r.setUserOrderDashboard=function(){var e=Object(a.a)(Ve().mark(function e(t){var n,a,o,i,c,s,u,l,d,h,p,f,m,y,g;return Ve().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.setState({orders:null}),t){e.next=4;break}return console.warn("Tried to set user order before setting account address"),e.abrupt("return");case 4:return n=r.createNodeProvider(),a=ae.createOrdersReadContract(ze,he,n),e.next=8,a.functions.getOrdersByAddress(t);case 8:o=e.sent,i=o[0],c={},s=i.reduce(function(e,t){return e.add(t.tokenIn)},new Set),u=Qe(s),e.prev=13,u.s();case 15:if((l=u.n()).done){e.next=30;break}if(d=l.value,c.hasOwnProperty(d)){e.next=28;break}return e.next=21,a.functions.tryGetTokenAddress(d);case 21:return h=e.sent,p=h[0],f=new te.a.Contract(p,ue,n),e.next=26,f.functions.decimals();case 26:m=e.sent,c[d]=m;case 28:e.next=15;break;case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(13),u.e(e.t0);case 35:return e.prev=35,u.f(),e.finish(35);case 38:y=i.map(function(e){var t=parseInt(e.id._hex,16),n=e.owner.substring(e.owner.length-4,e.owner.length),a=parseInt(e.tokenInAmount._hex,16),o=c[e.tokenIn],i=new ie.a("".concat(a,"e-").concat(o)),s="".concat(n).concat(t);return new we(t,s,i.toString(),e.tokenIn,e.tokenOut,r.orderDirectionMap[e.direction],e.tokenInTriggerPrice,r.orderStatusMap[e.orderState])}),g=y.some(function(e){return e.orderState===r.orderStatusMap[1]}),xe.dispatch(_e({isOrderDepositPending:g})),xe.dispatch(Le({isOrdersLoaded:!0})),r.setState({orders:y});case 43:case"end":return e.stop()}},e,null,[[13,32,35,38]])}));return function(t){return e.apply(this,arguments)}}(),r.handleOrderAction=function(){var e=Object(a.a)(Ve().mark(function e(t,n){var a;return Ve().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n,e.next="cancel"===e.t0?3:6;break;case 3:return e.next=5,r.cancelOrder(t);case 5:return e.abrupt("break",8);case 6:return console.warn("Unhandled action type: ".concat(n)),e.abrupt("break",8);case 8:a=Math.floor(Date.now()/1e3),xe.dispatch(Se({lastCheckedTimestamp:a}));case 10:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),r.convertTokenAmountToBalance=function(){var e=Object(a.a)(Ve().mark(function e(t,n,a){var o,i;return Ve().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getCachedTokenDecimals(t,n);case 2:return o=e.sent,i=new ie.a("".concat(a,"e-").concat(o)),e.abrupt("return",i.toString());case 5:case"end":return e.stop()}},e)}));return function(t,r,n){return e.apply(this,arguments)}}(),r.getCachedTokenDecimals=function(){var e=Object(a.a)(Ve().mark(function e(t,n){var a,o,i,c;return Ve().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.decimalsMap[n]){e.next=2;break}return e.abrupt("return",r.decimalsMap[n]);case 2:return e.next=4,t.functions.tryGetTokenAddress(n);case 4:return a=e.sent,o=a[0],i=new te.a.Contract(o,ue,r.createNodeProvider()),e.next=9,i.functions.decimals();case 9:return c=e.sent,r.decimalsMap[n]=c,e.abrupt("return",c);case 12:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),r.createAlertSetPayload=function(e,t,r,n){return{variant:e,code:t,msgPrimary:r,msgSecondary:n}},r.dispatchAlertSet=function(e){return p.dispatch(m(e))},r.cancelOrder=function(){var e=Object(a.a)(Ve().mark(function e(t){var n,o,i,c,s,u,l,d,h;return Ve().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new te.a.providers.Web3Provider(window.ethereum),o=n.getSigner(),i=ae.createOrdersWriteContract(ze,he,o),r.dispatchAlertSet(r.createAlertSetPayload("primary",U.FAQ,de.CONFIRM_METAMASK_TX,de.CANCEL_CONFIRM)),e.next=6,ye(Object(a.a)(Ve().mark(function e(){return Ve().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.functions.cancelOrder(t,{gasLimit:le.CANCEL_ORDER});case 2:c=e.sent;case 3:case"end":return e.stop()}},e)})));case 6:if(e.sent){e.next=9;break}return e.abrupt("return");case 9:return r.dispatchAlertSet(r.createAlertSetPayload("info",U.FAQ,de.CANCEL_PROCESSING,de.CANCEL_REFUND)),e.next=12,c.wait();case 12:if(0!==(s=e.sent).status){e.next=15;break}throw s;case 15:if(s.events){e.next=17;break}throw"Transaction events not found";case 17:if((u=s.events.find(function(e){return"OrderCancelled"===e.event}))&&u.args){e.next=20;break}throw"OrderCancelled event not found";case 20:return l=parseInt(u.args.tokenInAmount._hex,16).toString(),e.next=23,r.convertTokenAmountToBalance(i,u.args.tokenIn,l);case 23:e.sent,"Order cancelled successfully.",d=L[w.getState().networkId],h="".concat(d,"/").concat(s.transactionHash),r.dispatchAlertSet(r.createAlertSetPayload("success",U.FAQ,"Order cancelled successfully.",h));case 28:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),r.getBadgeBgForOrderState=function(e){var t;return(t={},Object(X.a)(t,r.orderStatusMap[0],"warning"),Object(X.a)(t,r.orderStatusMap[1],"info"),Object(X.a)(t,r.orderStatusMap[2],"success"),Object(X.a)(t,r.orderStatusMap[3],"secondary"),t)[e]},r.createOverlayTooltip=function(e){return x.a.createElement(Ue.a,{placement:"bottom",overlay:x.a.createElement(Ke.a,null,e)},x.a.createElement(Ge.a,{color:"gray",size:16,className:"ms-1"}))},r.state={orders:null},r.orderDirectionMap={0:"<",1:"=",2:">"},r.orderStatusMap={0:"Untriggered",1:"Pending deposit",2:"Executed",3:"Cancelled"},r.decimalsMap={},r}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;w.subscribe(function(){var t=w.getState().account;t&&e.setUserOrderDashboard(t)});var t=De()(xe.getState,"lastCheckedTimestamp");xe.subscribe(t(function(t,r){if(t>r){var n=w.getState().account;e.setUserOrderDashboard(n)}})),this.setUserOrderDashboard(w.getState().account)}},{key:"render",value:function(){var e=this,t=w.getState().account;return x.a.createElement(Ie.a,{className:this.props.className},x.a.createElement(Ie.a.Body,null,x.a.createElement(Ie.a.Title,null,"Orders"),this.state.orders?this.state.orders.length?x.a.createElement(x.a.Fragment,null,x.a.createElement(Ie.a.Text,{className:"text-muted"},"Your orders for ",x.a.createElement(Re.a,{bg:"secondary"},t),' are listed here. You can cancel orders using the "Action" button on the right, & change wallet addresses by selecting a different address in Metamask.'),x.a.createElement(Ye.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},x.a.createElement("thead",null,x.a.createElement("tr",null,x.a.createElement("th",null,"Anonymous order ID",this.createOverlayTooltip("This ID is just used as a reference to keep track of orders")),x.a.createElement("th",null,"Swap amount",this.createOverlayTooltip("The amount of tokens that will be swapped if/when an order is triggered")),x.a.createElement("th",null,"Swap from",this.createOverlayTooltip("This is the token deposited and will be used to swap to something else")),x.a.createElement("th",null,"Swap to",this.createOverlayTooltip("The token that will be automatically sent to the order owner upon trigger")),x.a.createElement("th",null,"Trigger (USD)",this.createOverlayTooltip("Quotes are in USD. Prices are fetched using an oracle that leverages the official CoinMarketCap API")),x.a.createElement("th",null,"Status",this.createOverlayTooltip("Tokens are immediately sent upon swap execution")),x.a.createElement("th",null,"Action"))),x.a.createElement("tbody",null,this.state.orders.map(function(t){return x.a.createElement("tr",{key:t.orderId},x.a.createElement("td",null,t.anonOrderId),x.a.createElement("td",null,t.tokenInAmount),x.a.createElement("td",null,t.tokenIn),x.a.createElement("td",null,t.tokenOut),x.a.createElement("td",null,t.direction,"\xa0$",t.tokenInTriggerPrice),x.a.createElement("td",null,x.a.createElement(Re.a,{bg:e.getBadgeBgForOrderState(t.orderState),text:"dark"},t.orderState)),x.a.createElement("td",null,x.a.createElement(Ne.a,{title:"",onSelect:function(r,n){return e.handleOrderAction(t.orderId,r)},variant:"dark"},x.a.createElement(Ae.a.Item,{eventKey:"cancel",disabled:t.orderState!==e.orderStatusMap[1]},"Cancel order"),x.a.createElement(Ae.a.Item,{eventKey:"cancel",disabled:t.orderState!==e.orderStatusMap[0]},"Cancel and refund order"))))})))):x.a.createElement(Ie.a.Text,null,"No orders found for ",x.a.createElement(Re.a,{bg:"secondary"},t),'. You can create an order using the "New order" panel, or switch to another account in Metamask.'):x.a.createElement(Xe,null)))}}]),t}(x.a.Component),Ze=r(78),$e={networkId:"0x5",account:"0xAF3e8346F1B57B0915851dBA3a1CDE65CF8dF522"},et=function(e){function t(e){var r;return Object(o.a)(this,t),(r=Object(c.a)(this,Object(s.a)(t).call(this,e))).connected=function(){w.dispatch(E({networkId:r.state.networkId,account:r.state.account}))},r.state=$e,r}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=(S[w.getState().networkId],Object.keys(S).map(function(t){return x.a.createElement(Ae.a.Item,{key:t,eventKey:t,active:e.state.networkId===t},S[t])}));return x.a.createElement(Ze.a,{show:this.props.show,onHide:this.props.onHide},x.a.createElement(Ze.a.Header,{closeButton:!0},x.a.createElement(Ze.a.Title,null,"Connect using plain-text")),x.a.createElement(Ze.a.Body,null,x.a.createElement("p",null,"This is an alternate decentralized connection method, if you prefer to not use Metamask yet."),x.a.createElement("p",null,"This will allow you to view orders, which are stored on the blockchain."),x.a.createElement("h6",null,"Wallet address:"),x.a.createElement(Pe.a.Control,{type:"text",placeholder:"e.g.: '0xAF3e8346F1B57B0915851dBA3a1CDE65CF8dF522'",defaultValue:this.state.account,onChange:function(t){return e.setState({account:t.target.value})}}),x.a.createElement("h6",null,"Network:"),x.a.createElement(Ne.a,{title:S[this.state.networkId],onSelect:function(t){return t&&e.setState({networkId:t})},variant:"dark"},t)),x.a.createElement(Ze.a.Footer,null,x.a.createElement(q.a,{variant:"secondary",onClick:this.props.onHide},"Cancel"),x.a.createElement(q.a,{variant:"primary",onClick:this.connected},"Connect")))}}]),t}(x.a.Component),tt=r(124),rt=function(e){return x.a.createElement(Ie.a,{className:e.className},x.a.createElement(Ie.a.Body,null,x.a.createElement(Ie.a.Title,null,"Welcome to Flyweight."),x.a.createElement(Ie.a.Text,null,"To start viewing your orders, please connect to Ethereum using one of the methods in the top-right."),x.a.createElement(Ie.a.Text,null,"The metamask option is only used to read an ethereum address to start the app with. Because of this, users are also able to simply copy-paste in an ethereum address as plain-text.")))},nt=r(153),at=r.n(nt);function ot(){ot=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(L){s=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new T(a||[]);return n(i,"_invoke",{value:E(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=u;var d={};function h(){}function p(){}function f(){}var m={};s(m,o,function(){return this});var y=Object.getPrototypeOf,g=y&&y(y(S([])));g&&g!==t&&r.call(g,o)&&(m=g);var v=f.prototype=h.prototype=Object.create(m);function w(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var s=l(e[a],e,o);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(d).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(s.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function E(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return _()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=k(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function k(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return p.prototype=f,n(v,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:p,configurable:!0}),p.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(b.prototype),s(b.prototype,i,function(){return this}),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},w(v),s(v,c,"Generator"),s(v,o,function(){return this}),s(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}var it=function(e){function t(e){var r;return Object(o.a)(this,t),(r=Object(c.a)(this,Object(s.a)(t).call(this,e))).ensureMetamaskEventsBound=function(e){r.state.metamaskEventsBound||(e.on("accountsChanged",function(e){if(e.length){var t=w.getState().networkId,r=e[0];w.dispatch(E({networkId:t,account:r}))}else w.dispatch(k())}),e.on("chainChanged",function(e){var t=w.getState().account;w.dispatch(E({networkId:e,account:t}))}),r.setState({metamaskEventsBound:!0}))},r.toggleManualLoginModal=function(){r.setState(function(e){return{showManualLoginModal:!e.showManualLoginModal}})},r.metamaskLogin=Object(a.a)(ot().mark(function e(){var t,r,n,o,i,c;return ot().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.ethereum,e.next=3,t.request({method:"eth_chainId"});case 3:return r=e.sent,n=new te.a.providers.Web3Provider(t),o=null,e.next=8,ye(Object(a.a)(ot().mark(function e(){return ot().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.send("eth_requestAccounts",[]);case 2:o=e.sent;case 3:case"end":return e.stop()}},e)})));case 8:i=e.sent,o&&i&&(c=o[0],w.dispatch(E({networkId:r,account:c})),p.dispatch(y()));case 10:case"end":return e.stop()}},e)})),r.subscribeConnected=function(){var e=De()(w.getState,"account");w.subscribe(e(function(e,t){t!==e&&e&&r.setState({showManualLoginModal:!1,isConnected:!0})}))},r.subscribeDisconnected=function(){var e=De()(w.getState,"account");w.subscribe(e(function(e,t){t===e||e||r.setState({isConnected:!1})}))},r.state={metamaskEventsBound:!1,isMetamaskProviderDetected:!1,isConnected:!1,showManualLoginModal:!1},r}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(a.a)(ot().mark(function e(){var t;return ot().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.subscribeConnected(),this.subscribeDisconnected(),e.next=4,at()();case 4:t=!!e.sent,this.setState({isMetamaskProviderDetected:t}),t&&this.ensureMetamaskEventsBound(window.ethereum);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=!(!w.getState().account||"0x1"===w.getState().networkId);return x.a.createElement(x.a.Fragment,null,x.a.createElement(C,{show:e}),x.a.createElement(ee,{isConnected:this.state.isConnected,isMetamaskProviderDetected:this.state.isMetamaskProviderDetected,toggleManualLoginModal:this.toggleManualLoginModal,metamaskLogin:this.metamaskLogin}),x.a.createElement(F.a,null,x.a.createElement(tt.a,null,x.a.createElement(M.a,null,x.a.createElement(Q,null))),x.a.createElement(tt.a,null,x.a.createElement(M.a,{xs:12,lg:8},w.getState().account?x.a.createElement(Je,{className:"mb-3 mb-lg-0"}):x.a.createElement(rt,{className:"mb-3 mb-lg-0"})),x.a.createElement(M.a,{xs:12,lg:4},x.a.createElement(Fe,{isMetamaskProviderDetected:this.state.isMetamaskProviderDetected})))),x.a.createElement(et,{show:this.state.showManualLoginModal,onHide:this.toggleManualLoginModal}))}}]),t}(x.a.Component),ct=r(154),st=r.n(ct),ut=document.getElementById("root");ut?st.a.createRoot(ut).render(x.a.createElement(x.a.StrictMode,null,x.a.createElement(it,null))):console.warn('To render this app, please add a html element with id "root"')},62:function(e){e.exports=[{inputs:[{internalType:"address",name:"_uniswapRouterAddress",type:"address"},{internalType:"address",name:"_oracleNodeAddress",type:"address"},{internalType:"string[]",name:"tokenSymbols",type:"string[]"},{internalType:"address[]",name:"tokenAddresses",type:"address[]"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"string",name:"tokenIn",type:"string"},{internalType:"string",name:"tokenOut",type:"string"},{internalType:"string",name:"tokenInTriggerPrice",type:"string"},{internalType:"enum OrderTriggerDirection",name:"direction",type:"uint8"},{internalType:"uint256",name:"tokenInAmount",type:"uint256"}],name:"addNewOrder",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"orderId",type:"uint256"}],name:"cancelOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"depositTxns",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"getOrdersByAddress",outputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"enum OrderState",name:"orderState",type:"uint8"},{internalType:"string",name:"tokenIn",type:"string"},{internalType:"string",name:"tokenOut",type:"string"},{internalType:"string",name:"tokenInTriggerPrice",type:"string"},{internalType:"enum OrderTriggerDirection",name:"direction",type:"uint8"},{internalType:"uint256",name:"tokenInAmount",type:"uint256"},{internalType:"uint256",name:"blockNumber",type:"uint256"}],internalType:"struct Order[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPendingDepositOrders",outputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"enum OrderState",name:"orderState",type:"uint8"},{internalType:"string",name:"tokenIn",type:"string"},{internalType:"string",name:"tokenOut",type:"string"},{internalType:"string",name:"tokenInTriggerPrice",type:"string"},{internalType:"enum OrderTriggerDirection",name:"direction",type:"uint8"},{internalType:"uint256",name:"tokenInAmount",type:"uint256"},{internalType:"uint256",name:"blockNumber",type:"uint256"}],internalType:"struct Order[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWhitelistedSymbols",outputs:[{internalType:"string[]",name:"",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"oracleNodeAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"orderIdsByAddress",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"orders",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"enum OrderState",name:"orderState",type:"uint8"},{internalType:"string",name:"tokenIn",type:"string"},{internalType:"string",name:"tokenOut",type:"string"},{internalType:"string",name:"tokenInTriggerPrice",type:"string"},{internalType:"enum OrderTriggerDirection",name:"direction",type:"uint8"},{internalType:"uint256",name:"tokenInAmount",type:"uint256"},{internalType:"uint256",name:"blockNumber",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ordersCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"prices",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"orderId",type:"uint256"},{internalType:"bytes32",name:"txHash",type:"bytes32"}],internalType:"struct NewDepositTx[]",name:"txns",type:"tuple[]"}],name:"storeDepositTransactionsAndUpdateOrderStates",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"string",name:"symbol",type:"string"},{internalType:"string",name:"price",type:"string"}],internalType:"struct NewPriceItem[]",name:"newPriceItems",type:"tuple[]"},{internalType:"uint256[]",name:"newTriggeredOrderIds",type:"uint256[]"}],name:"storePricesAndProcessTriggeredOrderIds",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenWhitelist",outputs:[{internalType:"contract TokenWhitelist",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"symbol",type:"string"}],name:"tryGetTokenAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"uniswapRouterAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}]},85:function(e){e.exports=[{constant:!0,inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"dst",type:"address"},{internalType:"uint256",name:"rawAmount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}]},86:function(e){e.exports={DEFAULT:5e6,ADD_NEW_ORDER:375e3,DEPOSIT:9e4,CANCEL_ORDER:8e4}}},[[157,2,1]]]);
//# sourceMappingURL=main.a03345a8.chunk.js.map